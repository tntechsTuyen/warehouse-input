
const rest = {
    post: function(mUrl, mData){
        return $.ajax({
            "url": mUrl,
            "method": "POST",
            "cache": false,
            "timeout": 0,
            "headers": {
                "Content-Type": "application/json",
            },
            "data": JSON.stringify(mData)
        });
        
    },
    get: function(mUrl, mData){
        return $.ajax({
            "type": "GET",
            "url": mUrl,
            "data": mData,
            "contentType": "application/json; charset=utf-8",
        });
    }
}

const user = {
    verify: async function(id, username){
        const api = "/admin/api/user/verify"
        const param = {"id": id, "username": username}
        const res = await $.when(rest.post(api, param));
        return res;
    }
}

const productStyle = {
    load: async function(idProduct) {
        const api = `/admin/api/product/${idProduct}/style`
        const res = await $.when(rest.get(api, {}));
        return res
    },
    save: async function(id, idProduct, size, idColor, price, qty){
        const api = "/admin/api/product/style"
        const param = {"id": id*1, "id_product": idProduct, "size": size*1, "id_color": idColor*1, "price": price*1, "qty": qty*1}
        const res = await $.when(rest.post(api, param));
        return res;
    }
}

const productCate = {
    load: async function(idProduct) {
        const api = `/admin/api/product/${idProduct}/cate`
        const res = await $.when(rest.get(api, {}));
        return res
    },
    save: async function(idProduct, idCates){
        const api = "/admin/api/product/cate"
        const param = {"id_product": idProduct, "id_cates": idCates}
        const res = await $.when(rest.post(api, param));
        return res;
    }
}

const order = {
    create: async function(p){
        const api = "/admin/api/order/create"
        const res = await $.when(rest.post(api, p));
        return res;
    }
}

const lading = {
    update: async function(p){
        const api = "/admin/api/lading/update"
        const res = await $.when(rest.post(api, p))
        return res
    }
}